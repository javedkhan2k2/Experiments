<div class="card shadow-sm">
  <div class="card-header d-flex justify-content-between align-items-center">
    <strong>Aktuelle Clampings</strong>
    <a routerLink="/clampings" class="btn btn-sm btn-outline-secondary">
      Alle anzeigen
    </a>
  </div>

  <div class="card-body p-0" style="max-height: 300px; min-height: 300px; overflow-y: auto;">
    <table class="table table-sm mb-0">
      <thead class="table-light sticky-top">
        <tr>
          <th>Zeit</th>
          <th>Geräte-Seriennummer</th>
          <th>Gerätemodell</th>
          <th>Gerätestandort</th>
          <th>Typ</th>
          <th>Kraft (N)</th>
          <th>Temperatur (°C)</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        @for (clamping of clampingFeed; track clamping.id) {
          <tr [ngClass]="clamping.isValid ? 'table-success' : 'table-danger'">
            <td>{{ clamping.timestamp | date: 'short' }}</td>
            <td>{{clamping.device.serialNumber}}</td>
            <td>{{clamping.device.model}}</td>
            <td>{{clamping.device.location}}</td>
            <td>{{ clamping.actionType  === 0 ? 'Klemme' : 'Entspannen' }}</td>
            <td>{{ clamping.clampingForceN }}</td>
            <td>{{ clamping.temperatureC }}</td>
            <td>
              <i
                class="fa"
                [ngClass]="clamping.isValid ? 'fa-check-circle text-success' : 'fa-exclamation-circle text-danger'"
              ></i>
              {{ clamping.isValid ? 'Gültig' : 'Ungültig' }}
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>
